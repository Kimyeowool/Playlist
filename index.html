<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- ë·°í¬íŠ¸ ì„¤ì • ì¶”ê°€ -->
  <title>ìœ íŠœë¸Œ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸</title>
  <style>
    /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
    body {
      font-family: Arial, sans-serif;
      background-color: #111;
      color: white;
      display: flex;
      justify-content: space-between;
      padding: 20px;
      flex-wrap: wrap; /* í™”ë©´ í¬ê¸°ì— ë”°ë¼ ìë™ìœ¼ë¡œ ì¤„ ë°”ê¿ˆ */
    }

    .left-section, .right-section {
      width: 48%;
    }

    .input-container {
      display: flex;
      margin-bottom: 20px;
      justify-content: center;
    }

    input, button {
      padding: 10px;
      font-size: 16px;
      margin: 10px;
      border-radius: 8px;
      border: 1px solid #ddd;
    }

    .video-list {
      margin-top: 20px;
      list-style-type: none;
      padding: 0;
    }

    .video-list li {
      margin: 10px 0;
      cursor: pointer;
      text-decoration: underline;
      color: lightblue;
    }

    .video-list li:hover {
      color: yellow;
    }

    .controls {
      margin-top: 20px;
      display: flex;
      justify-content: center;
    }

    .player {
      margin-top: 30px;
      max-width: 100%;
    }

    .playlist {
      margin-top: 20px;
      list-style-type: none;
      padding: 0;
    }

    .playlist li {
      background-color: #333;
      padding: 10px;
      margin: 5px 0;
      border-radius: 8px;
      color: #fff;
      cursor: pointer;
    }

    .playlist li:hover {
      background-color: #444;
    }

    /* ëª¨ë°”ì¼ í™”ë©´ì„ ìœ„í•œ ë¯¸ë””ì–´ ì¿¼ë¦¬ */
    @media (max-width: 768px) {
      body {
        flex-direction: column; /* ëª¨ë°”ì¼ì—ì„œëŠ” ì„¸ë¡œë¡œ ë°°ì¹˜ */
        padding: 10px;
      }

      .left-section, .right-section {
        width: 100%; /* ëª¨ë°”ì¼ì—ì„œëŠ” ì „ì²´ ë„ˆë¹„ ì‚¬ìš© */
        margin-bottom: 20px;
      }

      .player iframe {
        width: 100%;
        height: 200px; /* ëª¨ë°”ì¼ í™”ë©´ì—ì„œëŠ” ì˜ìƒ í¬ê¸°ë¥¼ ì¤„ì—¬ì„œ í‘œì‹œ */
      }

      .controls button {
        font-size: 14px;
        padding: 8px;
      }

      .input-container input,
      .input-container button {
        font-size: 14px;
        padding: 8px;
        width: 100%; /* ëª¨ë°”ì¼ì—ì„œ ì…ë ¥ì°½ê³¼ ë²„íŠ¼ì´ í™”ë©´ ê°€ë“ ì°¨ê²Œ */
      }
    }

    /* ì‘ì€ í™”ë©´ì— ëŒ€í•œ ì¶”ê°€ ì„¤ì • */
    @media (max-width: 480px) {
      .player iframe {
        height: 150px; /* ë” ì‘ì€ í™”ë©´ì—ì„œëŠ” í”Œë ˆì´ì–´ ë†’ì´ë¥¼ ì¤„ì„ */
      }
    }
  </style>
</head>
<body>

  <div class="left-section">
    <h1>ğŸ¬ ìœ íŠœë¸Œ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸</h1>

    <!-- ê²€ìƒ‰ì°½ -->
    <div class="input-container">
      <input type="text" id="search-query" placeholder="ê²€ìƒ‰ì–´ ì…ë ¥" />
      <button onclick="searchVideos()">ê²€ìƒ‰</button>
    </div>

    <ul id="video-list" class="video-list"></ul>

    <div class="controls">
      <button onclick="prevVideo()">â®ï¸ ë’¤ë¡œ</button>
      <button onclick="playPause()">â¯ï¸ ì¬ìƒ/ì¼ì‹œì •ì§€</button>
      <button onclick="nextVideo()">â­ï¸ ì•ìœ¼ë¡œ</button>
      <button onclick="shufflePlaylist()">ğŸ”€ ê³¡ ì„ê¸°</button>
    </div>
  </div>

  <div class="right-section">
    <h1>ğŸ¶ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸</h1>
    <ul id="playlist" class="playlist"></ul>

    <div class="player">
      <!-- ìœ íŠœë¸Œ í”Œë ˆì´ì–´ -->
      <iframe id="player" width="560" height="315" src="https://www.youtube.com/embed/" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
    </div>
  </div>

  <script>
    const apiKey = 'AIzaSyC3dFjg5VnEvtcnUH-dh_nGFRb9ztDxEeE'; // ì—¬ê¸°ì— ë°œê¸‰ë°›ì€ API í‚¤ë¥¼ ë„£ì–´ì£¼ì„¸ìš”
    const videoList = [];
    const playlist = [];
    let currentIndex = -1;

    // ì˜ìƒ ê²€ìƒ‰
    function searchVideos() {
      const query = document.getElementById('search-query').value;
      const url = `https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&q=${query}&key=${apiKey}`;
      
      fetch(url)
        .then(response => response.json())
        .then(data => {
          const videos = data.items;
          displayVideos(videos);
        })
        .catch(error => console.error("Error fetching data:", error));
    }

    // ì˜ìƒ ë¦¬ìŠ¤íŠ¸ ì¶œë ¥
    function displayVideos(videos) {
      const videoListElement = document.getElementById('video-list');
      videoListElement.innerHTML = '';

      videos.forEach(video => {
        const listItem = document.createElement('li');
        listItem.textContent = video.snippet.title;
        listItem.onclick = () => addToPlaylist(video);
        videoListElement.appendChild(listItem);
      });
    }

    // í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ì— ì˜ìƒ ì¶”ê°€
    function addToPlaylist(video) {
      playlist.push(video);
      updatePlaylistUI();
    }

    // í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ UI ì—…ë°ì´íŠ¸
    function updatePlaylistUI() {
      const playlistElement = document.getElementById('playlist');
      playlistElement.innerHTML = '';
      playlist.forEach((video, index) => {
        const listItem = document.createElement('li');
        listItem.textContent = video.snippet.title;
        listItem.onclick = () => playVideo(index);
        playlistElement.appendChild(listItem);
      });
    }

    // í˜„ì¬ ì˜ìƒ ì¬ìƒ
    function playVideo(index) {
      const video = playlist[index];
      const player = document.getElementById('player');
      currentIndex = index;
      player.src = `https://www.youtube.com/embed/${video.id.videoId}?autoplay=1`;
    }

    // ì¬ìƒ/ì¼ì‹œì •ì§€ í† ê¸€
    function playPause() {
      const player = document.getElementById('player');
      const src = player.src;
      if (src.includes('autoplay=1')) {
        player.src = player.src.replace('autoplay=1', 'autoplay=0'); // ì¼ì‹œì •ì§€
      } else {
        player.src = player.src.replace('autoplay=0', 'autoplay=1'); // ì¬ìƒ
      }
    }

    // ì•ë’¤ë¡œ ë„˜ê¸°ê¸°
    function nextVideo() {
      if (currentIndex < playlist.length - 1) {
        currentIndex++;
        playVideo(currentIndex);
      }
    }

    function prevVideo() {
      if (currentIndex > 0) {
        currentIndex--;
        playVideo(currentIndex);
      }
    }

    // ê³¡ ì„ê¸°
    function shufflePlaylist() {
      for (let i = playlist.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [playlist[i], playlist[j]] = [playlist[j], playlist[i]];
      }
      updatePlaylistUI();
      alert("í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ê°€ ì„ì˜€ìŠµë‹ˆë‹¤!");
    }
  </script>

</body>
</html>
